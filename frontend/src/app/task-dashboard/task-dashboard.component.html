
<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand">Online Project Manager</a>
    <div class="d-flex" *ngIf="projectDetails != undefined">

      
      <button
      type="button"
      *ngIf="projectDetails.userRole != 'Member' &&projectDetails.status!='Done'&&!isShown "
      class="btn btn-info btn-info-anim1"
      data-bs-toggle="modal"
      data-bs-target="#FinishModal"
    >
      Finish Project
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2-all" viewBox="0 0 16 16">
        <path d="M12.354 4.354a.5.5 0 0 0-.708-.708L5 10.293 1.854 7.146a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l7-7zm-4.208 7-.896-.897.707-.707.543.543 6.646-6.647a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708 0z"/>
        <path d="m5.354 7.146.896.897-.707.707-.897-.896a.5.5 0 1 1 .708-.708z"/>
      </svg>
    </button>

      <button
        type="button"
        *ngIf="projectDetails.userRole != 'Member'&&!isShown "
        (click)="clickAddTask()"
        class="btn btn-info btn-info-anim2"
        data-bs-toggle="modal"
        data-bs-target="#TaskAddModal"
      >
        Add Task

        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-check" viewBox="0 0 16 16">
          <path d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
          <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
        </svg>
      </button>
      <button
        type="button"
        *ngIf="projectDetails.userRole != 'Member'&&!isShown "
        (click)="clickAddMilestone()"
        class="btn btn-info btn-info-anim3"
        data-bs-toggle="modal"
        data-bs-target="#MilestoneAddModal"
      >
        Add Milestone
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-flag-fill" viewBox="0 0 16 16">
          <path d="M14.778.085A.5.5 0 0 1 15 .5V8a.5.5 0 0 1-.314.464L14.5 8l.186.464-.003.001-.006.003-.023.009a12.435 12.435 0 0 1-.397.15c-.264.095-.631.223-1.047.35-.816.252-1.879.523-2.71.523-.847 0-1.548-.28-2.158-.525l-.028-.01C7.68 8.71 7.14 8.5 6.5 8.5c-.7 0-1.638.23-2.437.477A19.626 19.626 0 0 0 3 9.342V15.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 1 0v.282c.226-.079.496-.17.79-.26C4.606.272 5.67 0 6.5 0c.84 0 1.524.277 2.121.519l.043.018C9.286.788 9.828 1 10.5 1c.7 0 1.638-.23 2.437-.477a19.587 19.587 0 0 0 1.349-.476l.019-.007.004-.002h.001"/>
        </svg>
      </button>

      

      <button
        type="button"
        class="btn btn-info btn-info-anim4"
        data-bs-toggle="modal"
        data-bs-target="#ProjectAddModal"
        *ngIf="!isShown"
      >
        Create Project
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
          <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
        </svg>
      </button>
    </div>

    <div class="d-flex justify-content-end">

      <div class="dropdown-center">
        <button
          class="btn btn-primary  dropdown-toggle"
          type="button"
          id="dropdownMenu2"
          data-bs-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
        >
          My Projects
        </button>

        <div class="dropdown-menu" aria-labelledby="dropdownMenu2">

          <div *ngFor="let row of projectData">
            <button
              *ngIf="row.status == 'Done'"
              class="dropdown-item"
              type="button"
              (click)="setProjectId(row)"
              data-bs-toggle="hide"
              data-bs-target="#multiCollapseExample2"
              aria-expanded="false"
              aria-controls="multiCollapseExample2"
            >
            <span class="badge text-bg-success"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-check-lg"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"
                  /></svg
              ></span>
              {{ row.name }}
              
            </button>
            <button
              *ngIf="row.status == 'Not Started'"
              class="dropdown-item"
              type="button"
              (click)="setProjectId(row)"
              data-bs-toggle="hide"
              data-bs-target="#multiCollapseExample2"
              aria-expanded="false"
              aria-controls="multiCollapseExample2"
            >
            <span class="badge text-bg-secondary"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-align-end"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M14.5 1a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 1 0v-13a.5.5 0 0 0-.5-.5z"
                  />
                  <path
                    d="M13 7a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7z"
                  /></svg
              ></span>
              {{ row.name }}
              
            </button>
            <button
              *ngIf="row.status == 'In Progress'"
              class="dropdown-item"
              type="button"
              (click)="setProjectId(row)"
              data-bs-toggle="hide"
              data-bs-target="#multiCollapseExample2"
              aria-expanded="false"
              aria-controls="multiCollapseExample2"
            >
            <span class="badge text-bg-warning"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-align-center"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 1a.5.5 0 0 1 .5.5V6h-1V1.5A.5.5 0 0 1 8 1zm0 14a.5.5 0 0 1-.5-.5V10h1v4.5a.5.5 0 0 1-.5.5zM2 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7z"
                  /></svg
              ></span>
              {{ row.name }}

            </button>
            <button
              *ngIf="row.status == 'Stopped'"
              class="dropdown-item"
              type="button"
              (click)="setProjectId(row)"
              data-bs-toggle="hide"
              data-bs-target="#multiCollapseExample2"
              aria-expanded="false"
              aria-controls="multiCollapseExample2"
            >
            <span class="badge text-bg-danger"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-slash-circle"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                  />
                  <path
                    d="M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708z"
                  /></svg
              ></span>
              {{ row.name }}
              
            </button>
            <li><hr class="dropdown-divider" /></li>
          </div>
        </div>
      </div>



      <button class="button" (click)="SignOut()" routerLink="/login">
        <span>
        Sign out
      </span>
      </button>
    </div>

  </div>
</nav>

<div class="background">
<figure class="text-center" *ngIf="projectName != '' " >
  <h1 class="display-1" *ngIf="!isShown">{{ projectName }}</h1>
  <span visible></span>
  <figcaption class="blockquote-footer">Current Project</figcaption>
</figure>

<div class="d-flex justify-content-center">
<p *ngIf="projectDetails != undefined">
  <button
    class="btn btn-primary btn-primary-anim1"
    type="button"
    data-bs-toggle="collapse"
    data-bs-target="#multiCollapseExample1"
    aria-expanded="false"
    aria-controls="multiCollapseExample1"
  >
    Project details
    <svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    fill="currentColor"
    class="bi bi-body-text"
    viewBox="0 0 16 16"
  >
    <path
      fill-rule="evenodd"
      d="M0 .5A.5.5 0 0 1 .5 0h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 0 .5Zm0 2A.5.5 0 0 1 .5 2h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm9 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-9 2A.5.5 0 0 1 .5 4h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm5 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm-12 2A.5.5 0 0 1 .5 6h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Zm8 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-8 2A.5.5 0 0 1 .5 8h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm-7 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"
    />
  </svg>
  </button>
  <button
    class="btn btn-primary btn-primary-anim2"
    type="button"
    data-bs-toggle="collapse"
    data-bs-target="#multiCollapseExample2"
    aria-expanded="false"
    aria-controls="multiCollapseExample2"
  >
    Timetable
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      fill="currentColor"
      class="bi bi-bar-chart-steps"
      viewBox="0 0 16 16"
    >
      <path
        d="M.5 0a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-1 0V.5A.5.5 0 0 1 .5 0zM2 1.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-1zm2 4a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1zm2 4a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-6a.5.5 0 0 1-.5-.5v-1zm2 4a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1z"
      />
    </svg>
  </button>
</p>
</div>
<div class="row" style="margin-left:5vw; margin-right:5vw; margin-top: 20px; margin-bottom: 20px;">
  <div class="col">
    <div class="collapse multi-collapse" id="multiCollapseExample1">
      <div class="card card-body border-special">
        <table class="tb" *ngIf="projectDetails != undefined">
          <tr class="trproj" style="font-size:large;">
            <td class="tdproj">Name:</td>
            <td>{{ projectDetails.name }}</td>
          </tr>
          <tr class="trproj">
            <td class="tdproj">Description:</td>
            <td>{{ projectDetails.description }}</td>
          </tr>
          <tr class="trproj">
            <td class="tdproj">Started:</td>
            <td>{{ projectDetails.startDate.substring(0, 10) }}</td>
          </tr>
          <tr class="trproj">
            <td class="tdproj">Status:</td>
            <td>{{ projectDetails.status }}</td>
          </tr>
          <tr class="trproj">
            <td class="tdproj">Finished:</td>
            <td>{{ projectDetails.endDate.substring(0, 10) }}</td>
          </tr>
          <tr class="trproj">
            <td class="tdproj">Estimated time:</td>
            <td>{{ projectDetails.estimatedTime }} day(s)</td>
          </tr>
          <tr class="trproj">
            <td class="tdproj">Permission level:</td>
            <td class="tdproj">{{ projectDetails.userRole }}</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="collapse multi-collapse" id="multiCollapseExample1">
      <div
        class="card card-body border-special"
        *ngIf="chartOptions != undefined"
      >
        <apx-chart
          [series]="chartOptions.series!!"
          [chart]="chartOptions.chart!!"
          [colors]="chartOptions.colors!!"
          [labels]="chartOptions.labels"
        >
        </apx-chart>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="collapse multi-collapse" id="multiCollapseExample1">
      <div
        class="card card-body border-special"
        *ngIf="ChartOptionsRadial != undefined"
      >
        <apx-chart
          [series]="ChartOptionsRadial.series!!"
          [chart]="ChartOptionsRadial.chart!!"
          [labels]="ChartOptionsRadial.labels!!"
          [plotOptions]="ChartOptionsRadial.plotOptions!!"
          [colors]="ChartOptionsRadial.colors!!"
          [legend]="ChartOptionsRadial.legend!!"
        >
        </apx-chart>
      </div>
    </div>
  </div>
</div>
<div class="row" style="margin-left:5vw; margin-right:5vw; margin-top: 20px; margin-bottom: 20px;">
  <div class="col">
    <div class="collapse multi-collapse" id="multiCollapseExample2">
      <div
        class="card card-body border-special"
        *ngIf="ChartOptionsGantt != undefined"
      >
        <apx-chart
          *ngIf="ChartOptionsGantt != undefined && taskData != undefined"
          [series]="ChartOptionsGantt.series!!"
          [chart]="ChartOptionsGantt.chart!!"
          [xaxis]="ChartOptionsGantt.xaxis!!"
          [plotOptions]="ChartOptionsGantt.plotOptions!!"
        >
        </apx-chart>
      </div>
    </div>
  </div>
</div>

<div class="d-flex">
  <div class="justify-content-start">
  <h1 style="margin-left: 115px;">
    Tasks:
  </h1>
</div>
<div class="justify-content-end">
  <div class="button-switch r" >
    <input type="checkbox" class="switchbox" (change)="TaskVisible()" />
    <div class="switchknobs"></div>
    <div class="switchlayer"></div>
  </div>
</div>
</div>



<table class="table" *ngIf="!isShown && taskVisibility" >
  <thead>
    <tr class="tr">
      <th scope="col">Task Name
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-text" viewBox="0 0 16 16">
          <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
          <path d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"/>
        </svg>
      </th>
      <th scope="col">Status
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
          <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
        </svg>
      </th>
      <th scope="col">Deadline
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-x" viewBox="0 0 16 16">
          <path d="M6.146 7.146a.5.5 0 0 1 .708 0L8 8.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 9l1.147 1.146a.5.5 0 0 1-.708.708L8 9.707l-1.146 1.147a.5.5 0 0 1-.708-.708L7.293 9 6.146 7.854a.5.5 0 0 1 0-.708z"/>
          <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
        </svg>
      </th>
      <th scope="col">Workers
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
          <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
        </svg>
      </th>
      <th scope="col">Description
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-body-text" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M0 .5A.5.5 0 0 1 .5 0h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 0 .5Zm0 2A.5.5 0 0 1 .5 2h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm9 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-9 2A.5.5 0 0 1 .5 4h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm5 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm-12 2A.5.5 0 0 1 .5 6h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Zm8 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-8 2A.5.5 0 0 1 .5 8h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm-7 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"/>
        </svg>
      </th>
      <th scope="col">Prerequisite
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-task" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z"/>
          <path d="M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z"/>
          <path fill-rule="evenodd" d="M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z"/>
        </svg>
      </th>
      <th scope="col">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-90deg-down" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M4.854 14.854a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V3.5A2.5 2.5 0 0 1 6.5 1h8a.5.5 0 0 1 0 1h-8A1.5 1.5 0 0 0 5 3.5v9.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4z"/>
        </svg>
        Action

      </th>
    </tr>
  </thead>
  <tbody *ngIf="taskData != undefined && projectDetails != undefined">
    <tr
      class="tr"
      *ngFor="
        let row of taskData.slice(TaskPageNumber * 5 - 5, TaskPageNumber * 5)
      "
    >
      <td *ngIf="row.archived" class="p-3 mb-2 bg-secondary text-white">
        {{ row.name }}
      </td>
      <td *ngIf="row.archived == false">{{ row.name }}</td>

      <td *ngIf="row.archived" class="p-3 mb-2 bg-secondary text-white">
        {{ row.status }}
      </td>
      <td
        *ngIf="row.archived == false && row.status == 'Done'"
        class="p-3 mb-2 text-black"
      >
      <div class="status-light-green">
        {{ row.status }}
        <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        class="bi bi-check2-circle"
        viewBox="0 0 16 16"
      >
        <path
          d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"
        />
        <path
          d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"
        />
      </svg>
        
      </div>
      </td>
      <td
        *ngIf="row.archived == false && row.status == 'In Progress'"
        class="p-3 mb-2  text-black "
      >
      <div class="status-light-yellow">
        {{ row.status }}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-align-center"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 1a.5.5 0 0 1 .5.5V6h-1V1.5A.5.5 0 0 1 8 1zm0 14a.5.5 0 0 1-.5-.5V10h1v4.5a.5.5 0 0 1-.5.5zM2 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7z"
          />
        </svg>
      </div>
      </td>
      <td
        *ngIf="row.archived == false && row.status == 'Not Started'"
        class="p-3 mb-2  text-black"
      >
      <div class="status-light-grey">
        {{ row.status }}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-align-end"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M14.5 1a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 1 0v-13a.5.5 0 0 0-.5-.5z"
          />
          <path
            d="M13 7a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7z"
          />
        </svg>
      </div>
      </td>
      <td
        *ngIf="row.archived == false && row.status == 'Stopped'"
        class="p-3 mb-2 text-black"
      >
      <div class="status-light-red">
        {{ row.status }}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-slash-circle"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
          />
          <path
            d="M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708z"
          />
        </svg>
      </div>
      </td>

      <td *ngIf="row.archived" class="p-3 mb-2 bg-secondary text-white">
        {{ row.deadline.substring(0, 10) }}
      </td>
      <td *ngIf="row.archived == false">{{ row.deadline.substring(0, 10) }}</td>

      <td *ngIf="row.archived" class="p-3 mb-2 bg-secondary text-white">
        {{ row.assignees }}
      </td>
      <td *ngIf="row.archived == false">{{ row.assignees }}</td>

      <td *ngIf="row.archived" class="p-3 mb-2 bg-secondary text-white">
        {{ row.description }}
      </td>
      <td *ngIf="row.archived == false">{{ row.description }}</td>

      <td *ngIf="row.archived" class="p-3 mb-2 bg-secondary text-white">
        {{ row.prerequisiteTasks.toString() }}
      </td>
      <td *ngIf="row.archived == false">
        {{ row.prerequisiteTasks.toString() }}
      </td>

      <td *ngIf="row.archived == false && projectDetails.userRole != 'Member'">
        <button
          type="button"
          (click)="onEdit(row)"
          type="button"
          class="btn btn-success"
          data-bs-toggle="modal"
          data-bs-target="#TaskAddModal"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-pencil-square"
            viewBox="0 0 16 16"
          >
            <path
              d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"
            />
            <path
              fill-rule="evenodd"
              d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"
            />
          </svg>
        </button>

        <button class="btn btn-secondary" (click)="archiveTask(row, true)">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-archive"
            viewBox="0 0 16 16"
          >
            <path
              d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"
            />
          </svg>
        </button>

        <button type="button" (click)="deleteTask(row)" class="btn btn-danger">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-trash"
            viewBox="0 0 16 16"
          >
            <path
              d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"
            />
            <path
              fill-rule="evenodd"
              d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"
            />
          </svg>
        </button>
      </td>
      <td *ngIf="row.archived == false && projectDetails.userRole == 'Member'">
        No permission
      </td>
      <td *ngIf="row.archived">
        <button class="btn btn-dark" (click)="archiveTask(row, false)">
          Reactivate
        </button>
      </td>
    </tr>
  </tbody>
</table>
<nav aria-label="Page navigation example" *ngIf="taskVisibility">
  <ul class="pagination justify-content-end" style="margin-right: 8rem; margin-top:20px">
    <li class="page-item">
      <a class="page-link" (click)="setTaskPageNumber(-1)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-caret-left"
          viewBox="0 0 16 16"
        >
          <path
            d="M10 12.796V3.204L4.519 8 10 12.796zm-.659.753-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753z"
          />
        </svg>
      </a>
    </li>
    <li class="page-item">
      <a class="page-link">{{ TaskPageNumber }}</a>
    </li>
    <li class="page-item">
      <a class="page-link" (click)="setTaskPageNumber(1)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-caret-right"
          viewBox="0 0 16 16"
        >
          <path
            d="M6 12.796V3.204L11.481 8 6 12.796zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z"
          />
        </svg>
      </a>
    </li>
  </ul>
</nav>

<!-- Modal -->
<div
  class="modal fade"
  *ngIf="projectDetails != undefined"
  id="TaskAddModal"
  tabindex="-1"
  aria-labelledby="TaskAddModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="TaskAddModalLabel">Task details</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="formValue">
          <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Task name</label>
            <input
              type="text"
              formControlName="text"
              class="form-control"
              id="exampleInputEmail1"
              aria-describedby="emailHelp"
              maxlength="30"
            />
          </div>

          <label for="exampleInputEmail6" class="form-label">Status</label>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="Not Started"
              value="Not Started"
              checked
            />
            <label class="form-check-label" for="exampleRadios1">
              Not Started
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="In Progress"
              value="In Progress"
            />
            <label class="form-check-label" for="exampleRadios2">
              In Progress
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="Done"
              value="Done"
            />
            <label class="form-check-label" for="exampleRadios2">
              Finished
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="Stopped"
              value="Stopped"
            />
            <label class="form-check-label" for="exampleRadios2">
              Stopped
            </label>
          </div>

          <div class="mb-3">
            <label for="exampleInputPassword2" class="form-label"
              >Deadline</label
            >
            <input
              type="date"
              formControlName="day"
              class="form-control"
              id="exampleInputPassword1"
            />
          </div>

          <label for="exampleInputPassword3">Workers:</label>
          <ul class="list-group">
            <li
              class="list-group-item"
              *ngFor="let row of projectDetails.userRoles"
            >
              <input
                class="form-check-input me-1"
                type="checkbox"
                name="workers"
                id="firstCheckbox"
                (change)="WorkerAdded(row.user.id)"
                formControlName="workers"
              />
              <label class="form-check-label" for="firstCheckbox">{{
                row.user.fullname
              }}</label>
            </li>
          </ul>

          <div class="mb-3">
            <label for="exampleInputPassword4" class="form-label"
              >Description</label
            >
            <input
              type="text"
              formControlName="description"
              class="form-control"
              id="exampleInputPassword1"
              maxlength="50"
              placeholder="max 50 characters"
            />
          </div>

          <label for="exampleInputPassword3">Prerequisite:</label>
          <ul class="list-group">
            <li class="list-group-item" *ngFor="let row of taskData">
              <input
                class="form-check-input me-1"
                type="checkbox"
                name="prerequisite"
                id="firstCheckbox"
                (change)="PrerequisiteAdded(row.id)"
                formControlName="prerequisite"
              />
              <label class="form-check-label" for="firstCheckbox">{{
                row.name
              }}</label>
            </li>
          </ul>
        </form>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          id="close"
          class="btn btn-secondary"
          data-bs-dismiss="modal"
        >
          Close
        </button>
        <button
          type="button"
          *ngIf="showAdd"
          (click)="postTaskDeatails()"
          class="btn btn-primary"
        >
          Add
        </button>
        <button
          type="button"
          *ngIf="showUpdate"
          (click)="updateTask()"
          class="btn btn-primary"
        >
          Update
        </button>
      </div>
    </div>
  </div>
</div>

<!-- FINISH MODAL -->
<div
  class="modal fade"
  id="FinishModal"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="FinishModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body">
        <p>Are you sure you want to finish the project ?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Not yet
        </button>
        <button
          type="button"
          class="btn btn-primary"
          (click)="FinishingProject()"
          data-bs-dismiss="modal"
        >
          Yes!
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal MILESTONE -->
<div
  class="modal fade"
  id="MilestoneAddModal"
  tabindex="-1"
  aria-labelledby="MilestoneAddModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="MilestoneAddModalLabel">
          Milestone details
        </h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="milestoneValue">
          <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label"
              >Milestone name</label
            >
            <input
              type="text"
              formControlName="text"
              class="form-control"
              id="exampleInputEmail1"
              aria-describedby="emailHelp"
              maxlength="30"
            />
          </div>

          <label for="exampleInputEmail6" class="form-label">Status</label>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="exampleRadios1"
              value="Not Started"
              checked
            />
            <label class="form-check-label" for="exampleRadios1">
              Not Started
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="exampleRadios2"
              value="In Progress"
            />
            <label class="form-check-label" for="exampleRadios2">
              In Progress
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="exampleRadios2"
              value="Finished"
            />
            <label class="form-check-label" for="exampleRadios2">
              Finished
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="Stopped"
              value="Stopped"
            />
            <label class="form-check-label" for="exampleRadios2">
              Stopped
            </label>
          </div>
          <div class="mb-3">
            <label for="exampleInputPassword2" class="form-label"
              >Deadline</label
            >
            <input
              type="date"
              formControlName="day"
              class="form-control"
              id="exampleInputPassword1"
            />
          </div>
          <div class="mb-3">
            <label for="exampleInputPassword4" class="form-label"
              >Description</label
            >
            <input
              type="text"
              formControlName="description"
              class="form-control"
              id="exampleInputPassword1"
              maxlength="50"
              placeholder="max 50 characters"
            />
          </div>
          <div class="mb-3">
            <label for="exampleInputPassword5" class="form-label"
              >Required Tasks</label
            >
          </div>
          <ul class="list-group">
            <li class="list-group-item" *ngFor="let row of taskData">
              <input
                class="form-check-input me-1"
                type="checkbox"
                name="tasks"
                id="firstCheckbox"
                (change)="RequiredTaskAdded(row.id)"
                formControlName="tasks"
              />
              <label class="form-check-label" for="firstCheckbox">{{
                row.name
              }}</label>
            </li>
          </ul>
        </form>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          id="close"
          class="btn btn-secondary"
          data-bs-dismiss="modal"
        >
          Close
        </button>
        <button
          type="button"
          *ngIf="showAddMilestone"
          (click)="postMilestoneDetails()"
          class="btn btn-primary"
        >
          Add
        </button>
        <button
          type="button"
          *ngIf="showUpdateMilestone"
          (click)="updateMilestone()"
          class="btn btn-primary"
        >
          Update
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal MILESTONE VEGE-->


<div class="d-flex">
  <div class="justify-content-start">
  <h1 style="margin-left: 115px;">
    Milestones:
  </h1>
</div>
<div class="justify-content-end">
  <div class="button-switch r" >
    <input type="checkbox" class="switchbox" (change)="MilestoneVisible()" />
    <div class="switchknobs"></div>
    <div class="switchlayer"></div>
  </div>
</div>
</div>

<table class="table" *ngIf="!isShown && milestoneVisibility" >
  <thead>
    <tr class="tr">
      <th scope="col">Milestone Name
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-text" viewBox="0 0 16 16">
          <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
          <path d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"/>
        </svg>
      </th>
      <th scope="col">Status
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
          <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
        </svg>
      </th>
      <th scope="col">Deadline
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-x" viewBox="0 0 16 16">
          <path d="M6.146 7.146a.5.5 0 0 1 .708 0L8 8.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 9l1.147 1.146a.5.5 0 0 1-.708.708L8 9.707l-1.146 1.147a.5.5 0 0 1-.708-.708L7.293 9 6.146 7.854a.5.5 0 0 1 0-.708z"/>
          <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
        </svg>
      </th>
      <th scope="col">Description
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-body-text" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M0 .5A.5.5 0 0 1 .5 0h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 0 .5Zm0 2A.5.5 0 0 1 .5 2h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm9 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-9 2A.5.5 0 0 1 .5 4h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm5 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm-12 2A.5.5 0 0 1 .5 6h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Zm8 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-8 2A.5.5 0 0 1 .5 8h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm-7 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"/>
        </svg>
      </th>
      <th scope="col">Required Tasks
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-task" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z"/>
          <path d="M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z"/>
          <path fill-rule="evenodd" d="M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z"/>
        </svg>
      </th>
      <th scope="col">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-90deg-down" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M4.854 14.854a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V3.5A2.5 2.5 0 0 1 6.5 1h8a.5.5 0 0 1 0 1h-8A1.5 1.5 0 0 0 5 3.5v9.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4z"/>
        </svg>
        Action
        
      </th>
    </tr>
  </thead>
  <tbody *ngIf="milestoneData != undefined && projectDetails != undefined">
    <tr
      class="tr"
      *ngFor="
        let row of milestoneData.slice(
          MilestonePageNumber * 5 - 5,
          MilestonePageNumber * 5
        )
      "
      
    >
      <td *ngIf="row.archived" class="p-3 mb-2 bg-secondary text-white">
        {{ row.name }}
      </td>
      <td *ngIf="row.archived == false">{{ row.name }}</td>

      <td *ngIf="row.archived" class="p-3 mb-2 bg-secondary text-white">
        {{ row.status }}
      </td>
      <td
        *ngIf="row.archived == false && row.status == 'Done'"
        class="p-3 mb-2  text-black"
      >
      <div class="status-light-green">
        {{ row.status }}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-check2-circle"
          viewBox="0 0 16 16"
        >
          <path
            d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"
          />
          <path
            d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"
          />
        </svg>
      </div>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-align-start"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M1.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z"
          />
          <path
            d="M3 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7z"
          />
        </svg>
      </td>
      <td
        *ngIf="row.archived == false && row.status == 'In Progress'"
        class="p-3 mb-2  text-black"
      >
      <div class="status-light-yellow">
        {{ row.status }}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-align-center"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 1a.5.5 0 0 1 .5.5V6h-1V1.5A.5.5 0 0 1 8 1zm0 14a.5.5 0 0 1-.5-.5V10h1v4.5a.5.5 0 0 1-.5.5zM2 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7z"
          />
        </svg>
      </div>
      </td>
      <td
        *ngIf="row.archived == false && row.status == 'Not Started'"
        class="p-3 mb-2  text-black"
      >
      <div class="status-light-grey">
        {{ row.status }}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-align-end"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M14.5 1a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 1 0v-13a.5.5 0 0 0-.5-.5z"
          />
          <path
            d="M13 7a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7z"
          />
        </svg>
      </div>
      </td>
      <td
        *ngIf="row.archived == false && row.status == 'Stopped'"
        class="p-3 mb-2  text-black"
      >
      <div class="status-light-red">
        {{ row.status }}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-slash-circle"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
          />
          <path
            d="M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708z"
          />
        </svg>
      </div>
      </td>

      <td *ngIf="row.archived" class="p-3 mb-2 bg-secondary text-white">
        {{ row.deadline.substring(0, 10) }}
      </td>
      <td *ngIf="row.archived == false">{{ row.deadline.substring(0, 10) }}</td>

      <td *ngIf="row.archived" class="p-3 mb-2 bg-secondary text-white">
        {{ row.description }}
      </td>
      <td *ngIf="row.archived == false">{{ row.description }}</td>

      <td *ngIf="row.archived" class="p-3 mb-2 bg-secondary text-white">
        {{ row.tasks }}
      </td>
      <td *ngIf="row.archived == false">{{ row.tasks }}</td>

      <td *ngIf="row.archived == false && projectDetails.userRole != 'Member'">
        <button
          type="button"
          (click)="onEditMilestone(row)"
          type="button"
          class="btn btn-success"
          data-bs-toggle="modal"
          data-bs-target="#MilestoneAddModal"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-pencil-square"
            viewBox="0 0 16 16"
          >
            <path
              d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"
            />
            <path
              fill-rule="evenodd"
              d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"
            />
          </svg>
        </button>

        <button class="btn btn-secondary" (click)="archiveMilestone(row, true)">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-archive"
            viewBox="0 0 16 16"
          >
            <path
              d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"
            />
          </svg>
        </button>

        <button
          type="button"
          (click)="deleteMilestone(row)"
          class="btn btn-danger"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-trash"
            viewBox="0 0 16 16"
          >
            <path
              d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"
            />
            <path
              fill-rule="evenodd"
              d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"
            />
          </svg>
        </button>
      </td>
      <td *ngIf="row.archived == false && projectDetails.userRole == 'Member'">
        No permission
      </td>
      <td *ngIf="row.archived">
        <button class="btn btn-dark" (click)="archiveMilestone(row, false)">
          Reactivate
        </button>
      </td>
    </tr>
  </tbody>
</table>
<nav aria-label="Page navigation example" *ngIf="milestoneVisibility">
  
  <ul class="pagination justify-content-end" style="margin-right: 8rem; margin-top:20px">
    
    <li class="page-item ">
      <a class="page-link" (click)="setMilestonePageNumber(-1)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-caret-left"
          viewBox="0 0 16 16"
        >
          <path
            d="M10 12.796V3.204L4.519 8 10 12.796zm-.659.753-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753z"
          />
        </svg>
      </a>
    </li>
    <li class="page-item">
      <a class="page-link">{{ MilestonePageNumber }}</a>
    </li>
    <li class="page-item">
      <a class="page-link" (click)="setMilestonePageNumber(1)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-caret-right"
          viewBox="0 0 16 16"
        >
          <path
            d="M6 12.796V3.204L11.481 8 6 12.796zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z"
          />
        </svg>
      </a>
    </li>
  </ul>
</nav>
</div>
<!-- Modal PROJECT -->
<div
  class="modal fade"
  id="ProjectAddModal"
  tabindex="-1"
  aria-labelledby="ProjectAddModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="ProjectAddModalLabel">
          Project details
        </h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="projectValue">
          <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label"
              >Project name</label
            >
            <input
              type="text"
              formControlName="name"
              class="form-control"
              id="exampleInputEmail1"
              aria-describedby="emailHelp"
              maxlength="30"
            />
          </div>

          <label for="exampleInputEmail6" class="form-label">Status</label>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="exampleRadios1"
              value="Not Started"
              checked
            />
            <label class="form-check-label" for="exampleRadios1">
              Not Started
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="exampleRadios2"
              value="In Progress"
            />
            <label class="form-check-label" for="exampleRadios2">
              In Progress
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="exampleRadios2"
              value="Finished"
            />
            <label class="form-check-label" for="exampleRadios2">
              Finished
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              formControlName="statusbar"
              type="radio"
              name="statusbar"
              id="Stopped"
              value="Stopped"
            />
            <label class="form-check-label" for="exampleRadios2">
              Stopped
            </label>
          </div>
          <div class="mb-3">
            <label for="exampleInputPassword2" class="form-label"
              >Estimated time (days):</label
            >
            <input
              type="number"
              formControlName="day"
              class="form-control"
              id="exampleInputPassword1"
            />
          </div>
          <div class="mb-3">
            <label for="exampleInputPassword4" class="form-label"
              >Description</label
            >
            <input
              type="text"
              formControlName="description"
              class="form-control"
              id="exampleInputPassword1"
              maxlength="50"
              placeholder="max 50 characters"
            />
          </div>
          <ul class="list-group">
            <label for="exampleInputPassword4" class="form-label"
              >Workers:</label
            >
            <li class="list-group-item" *ngFor="let row of userData">
              <input
                class="form-check-input me-1"
                type="checkbox"
                name="users"
                id="firstCheckbox"
                (change)="ProjectMemberAdded(row.id)"
                formControlName="users"
              />
              <label class="form-check-label" for="firstCheckbox">{{
                row.fullname
              }}</label>
            </li>
          </ul>

          <label for="exampleInputPassword4" class="form-label">Manager:</label>
          <div class="form-check" *ngFor="let row of userData">
            <input
              class="form-check-input"
              formControlName="manager"
              type="radio"
              name="manager"
              id="exampleRadios1"
              value="{{ row.id }}"
              checked
            />
            <label class="form-check-label" for="exampleRadios1">
              {{ row.fullname }}
            </label>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          id="close"
          class="btn btn-secondary"
          data-bs-dismiss="modal"
        >
          Close
        </button>
        <button type="button" (click)="postProject()" class="btn btn-primary">
          Add
        </button>
      </div>
    </div>
  </div>
</div>

<!-- <button class="btn special-button">
 Hello
</button> -->